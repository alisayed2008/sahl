<!doctype html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>اختبار الدرس الأول للصف الرابع الإبتدائي - الأعداد الكبيرة</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&amp;family=Cairo:wght@400;700&amp;family=Tajawal:wght@700&amp;display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: "Cairo", sans-serif;
      margin: 20px;
      background: linear-gradient(135deg, #e0f7fa, #f1f8e9);
    }
    h2 {
      font-family: "Tajawal", sans-serif;
      font-size: 28px;
      color: #00796b;
      margin: 30px 0 15px;
      text-align: center;
    }
    .logo {
      text-align:center;
      margin-bottom:20px;
    }
    .logo img {
      max-width:150px;
    }
    .question {
      margin-bottom: 25px;
      padding: 15px 20px;
      border-radius: 12px;
      background: #ffffff;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      font-size: 22px;
      font-family: "Amiri", serif;
    }
    .question p {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
      color: #004d40;
    }
    .options {
      font-size: 22px;
    }
    .options span {
      cursor: pointer;
      transition: 0.3s;
    }
    .options span:hover {
      color: #00796b;
      font-size: 24px;
    }
    .options span.selected {
      color: #1565c0;
      font-weight: bold;
      font-size: 26px;
    }
    input.blank {
      border: none;
      border-bottom: 2px solid #00796b;
      text-align: center;
      font-size: 20px;
      width: 120px;
      outline: none;
    }
    .underline {
      text-decoration: underline red wavy;
      font-weight: bold;
    }
    button {
      display: block;
      margin: 25px auto;
      padding: 14px 30px;
      font-size: 20px;
      cursor: pointer;
      background: #00796b;
      color: #fff;
      border: none;
      border-radius: 10px;
      transition: 0.3s;
    }
    button:hover { background: #004d40; }
    .correct-answer {
      margin-top: 10px;
      font-weight: bold;
      color: #388e3c;
      font-size: 18px;
    }
    .wrong-answer {
      margin-top: 10px;
      font-weight: bold;
      color: #d32f2f;
      font-size: 18px;
    }
    .result {
      margin-top: 30px;
      font-size: 22px;
      text-align: center;
      font-weight: bold;
      white-space: pre-line;
    }
    #chartContainer { width: 300px; margin: 20px auto; }
  </style>
</head>
<body>

  <!-- اللوجو -->
  <div class="logo">
    <img src="https://imgg.io/images/2025/09/02/4707d44f2780612cd69954909d9bf395.png" alt="شعار الموقع" />
  </div>

  <h2>اختر من بين الأقواس</h2>
  <form id="quizForm">

    <div class="question" id="q1Box">
      <p>1- أكبر عدد يمكن تكوينه من الأرقام (2، 5، 0، 6، 8، 3) هو؟</p>
      <div class="options" data-question="q1">
        ( <span>1000000</span> - <span>865320</span> - <span>023568</span> )
      </div>
    </div>

    <div class="question" id="q2Box">
      <p>2- الرقم الذي قيمته 8,000,000 يقع في خانة .</p>
      <div class="options" data-question="q2">
        ( <span>الملايين</span> - <span>الأحاد</span> - <span>الألوف</span> )
      </div>
    </div>

    <div class="question" id="q3Box">
      <p>3- القيمة المكانية للرقم 5 في العدد 21,000,520 هي</p>
      <div class="options" data-question="q3">
        ( <span>الآلاف</span> - <span>المئات</span> - <span>المليار</span> )
      </div>
    </div>

    <div class="question" id="q4Box">
      <p>4- أكبر عدد مكون من 6 أرقام مختلفة هو -</p>
      <div class="options" data-question="q4">
        ( <span>المليون</span> - <span>المليار</span> - <span>الألوف</span> )
      </div>
    </div>

    <div class="question" id="q5Box">
      <p>5- المليار أصغر عدد مكون من -- أرقام</p>
      <div class="options" data-question="q5">
        ( <span>10</span> - <span>9</span> - <span>6</span> )
      </div>
    </div>

    <div class="question" id="q6Box">
      <p>6- الرقم الذي يقع في خانة مئات الألوف في العدد 894,500,304 هو ...</p>
      <div class="options" data-question="q6">
        ( <span>4</span> - <span>0</span> - <span>8</span> )
      </div>
    </div>

    <h2>أكمل الفراغ</h2>

    <div class="question" id="q7Box">
      <p>7- أكبر عدد مكون من 6 أرقام مختلفة هو ..... = <input type="text" name="q7" class="blank" /></p>
    </div>

    <div class="question" id="q8Box">
      <p>8- أصغر عدد يمكن تكوينه من الأرقام (9، 1، 5، 6، 2، 7، 8) هو = <input type="text" name="q8" class="blank" /></p>
    </div>

    <h2>صح أم خطأ</h2>

    <div class="question" id="q9Box">
      <p>9- الأحاد هي أول خانة في الرقم</p>
      <div class="options" data-question="q9">
        ( <span>صح</span> - <span>غلط</span> )
      </div>
    </div>

    <div class="question" id="q10Box">
      <p>10- المليار 10 أرقام؟</p>
      <div class="options" data-question="q10">
        ( <span>صح</span> - <span>غلط</span> )
      </div>
    </div>

    <h2>صحح الخطأ</h2>

    <div class="question" id="q11Box">
      <p>11- أحاد الملايين بعد <span class="underline">المئات</span>.</p>
      <p>الإجابة الصحيحة: <input type="text" name="q11" class="blank" /></p>
    </div>

    <button type="button" onclick="checkAnswers()">تصحيح الاختبار</button>
  </form>

  <div class="result" id="result"></div>
  <div id="chartContainer"><canvas id="resultChart"></canvas></div>

  <script>
    // اختيار الاختيارات
    document.querySelectorAll(".options span").forEach(span => {
      span.addEventListener("click", () => {
        let parent = span.parentElement;
        parent.querySelectorAll("span").forEach(s => s.classList.remove("selected"));
        span.classList.add("selected");
        parent.setAttribute("data-selected", span.innerText);
      });
    });

    function checkAnswers() {
      let score = 0;
      const total = 11;
      const answers = {
        q1: "865320",
        q2: "الملايين",
        q3: "المئات",
        q4: "المليون",
        q5: "10",
        q6: "0",
        q7: "987654",
        q8: "1256789",
        q9: "صح",
        q10: "صح",
        q11: "مئات الألوف"
      };
      let wrongList = [];

      for (let i = 1; i <= total; i++) {
        const box = document.getElementById(`q${i}Box`);
        if (!box) continue;
        const options = box.querySelector(".options");
        const input = box.querySelector("input");
        let correct = answers[`q${i}`];
        let answerText = document.createElement("div");

        if (options) {
          const selected = options.getAttribute("data-selected");
          if (selected === correct) {
            score++;
            answerText.className = "correct-answer";
            answerText.innerText = "✔️ إجابة صحيحة";
          } else {
            answerText.className = "wrong-answer";
            answerText.innerText = `❌ الإجابة الصحيحة: ${correct}`;
            wrongList.push(`سؤال ${i}`);
          }
        } else if (input) {
          if (input.value.trim() === correct) {
            score++;
            answerText.className = "correct-answer";
            answerText.innerText = "✔️ إجابة صحيحة";
          } else {
            answerText.className = "wrong-answer";
            answerText.innerText = `❌ الإجابة الصحيحة: ${correct}`;
            wrongList.push(`سؤال ${i}`);
          }
        }
        if (!box.querySelector(".correct-answer") && !box.querySelector(".wrong-answer")) {
          box.appendChild(answerText);
        }
      }

      const percent = ((score/total)*100).toFixed(2);
      let res = `درجتك: ${score} من ${total} (${percent}%)`;
      if (wrongList.length) {
        res += ` — أخطأت في: ${wrongList.join("، ")}`;
      }
      document.getElementById("result").innerHTML = res;

      // رسم بياني
      const ctx = document.getElementById("resultChart").getContext("2d");
      new Chart(ctx, {
        type: "pie",
        data: {
          labels: ["صح", "غلط"],
          datasets: [{
            data: [score, total - score],
            backgroundColor: ["#4caf50", "#f44336"]
          }]
        }
      });
    }
  </script>
</body>
</html>
